{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ljs\\\\calendar\\\\src\\\\components\\\\DataCollection\\\\Request.jsx\",\n    _s = $RefreshSig$();\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function GetEvent(data, instance, accounts) {\n  const request = { ...loginRequest,\n    account: accounts[0]\n  };\n  data.map(user => {\n    instance.acquireTokenSilent(request).then(res => {\n      callForEvent(res.accessToken, user.userPrincipalName, user.accountEnabled).then(res => {\n        if (res.value === undefined || res === false) {} else {\n          console.log(user.displayName);\n        }\n      });\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"hej\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_c = GetEvent;\nexport function GetUsers(props) {\n  _s();\n\n  //creates an object with instance and accounts that are authenticated.\n  let eventArr = [];\n  const {\n    instance,\n    accounts\n  } = useMsal(); //console.log(currentUser);\n\n  const request = { ...loginRequest,\n    account: accounts[0]\n  }; //uses instance to acquire an access token, and takes out request, and reponds with an access token if one is available.\n\n  instance.acquireTokenSilent(request).then(res => {\n    //Pass the response into an arrow function that calls the callForUser-function and passes the accesstoken as an argument.\n    callForUser(res.accessToken).then(res => {\n      //Pass the reponse from callForUsers into an arrow functio and passes the response, instance and account as arguments.\n      GetEvent(res.value, instance, accounts).then(res => {\n        eventArr.push(res);\n      }).catch(e => console.log(\"an error has occured\"));\n    });\n  }).catch(e => {\n    //if we cant acquire silently, then we acquire one by popup.\n    instance.acquireTokenPopup(request).then(res => {\n      callForUser(res.accessToken).then(res => {\n        GetEvent(res.value, instance, accounts).then(res => {\n          eventArr.push(res);\n        });\n      });\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"hej\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n\n_s(GetUsers, \"dXjh19YPAR1C3Q3VfJSLpkBSILY=\", true);\n\n_c2 = GetUsers;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"GetEvent\");\n$RefreshReg$(_c2, \"GetUsers\");","map":{"version":3,"names":["GetEvent","data","instance","accounts","request","loginRequest","account","map","user","acquireTokenSilent","then","res","callForEvent","accessToken","userPrincipalName","accountEnabled","value","undefined","console","log","displayName","GetUsers","props","eventArr","useMsal","callForUser","push","catch","e","acquireTokenPopup"],"sources":["C:/Users/ljs/calendar/src/components/DataCollection/Request.jsx"],"sourcesContent":["\r\nexport function GetEvent(data, instance, accounts){\r\n    const request = {\r\n        ...loginRequest,\r\n        account: accounts[0]\r\n    };  \r\n\r\n        data.map((user) => {\r\n        instance.acquireTokenSilent(request).then((res) => {\r\n                callForEvent(res.accessToken, user.userPrincipalName, user.accountEnabled).then((res) => {\r\n                    if(res.value === undefined || res === false){\r\n                    } else{\r\n                        console.log(user.displayName)\r\n                    }\r\n                })\r\n            })\r\n        })\r\n\r\n        return(\r\n            <>\r\n            <h1>hej</h1>\r\n            </>\r\n            )\r\n\r\n    }\r\n\r\nexport function GetUsers(props){\r\n    //creates an object with instance and accounts that are authenticated.\r\n    let eventArr = [];\r\n    const { instance, accounts } = useMsal();\r\n    //console.log(currentUser);\r\n    const request = {\r\n        ...loginRequest,\r\n        account: accounts[0]\r\n    };\r\n    //uses instance to acquire an access token, and takes out request, and reponds with an access token if one is available.\r\n    instance.acquireTokenSilent(request).then((res) => { //Pass the response into an arrow function that calls the callForUser-function and passes the accesstoken as an argument.\r\n        callForUser(res.accessToken).then((res) => { //Pass the reponse from callForUsers into an arrow functio and passes the response, instance and account as arguments.\r\n            GetEvent(res.value, instance, accounts).then((res) => {\r\n                eventArr.push(res);\r\n            })\r\n            .catch((e) => console.log(\"an error has occured\"));\r\n        })\r\n    }).catch((e) =>{\r\n    //if we cant acquire silently, then we acquire one by popup.\r\n    instance.acquireTokenPopup(request).then((res) => {\r\n        callForUser(res.accessToken).then((res) => {\r\n            GetEvent(res.value, instance, accounts).then((res) => {\r\n                eventArr.push(res);\r\n            });\r\n        })\r\n    })\r\n    })\r\n\r\n    return(\r\n        <>\r\n        <h1>hej</h1>\r\n        <h3></h3>\r\n        </>\r\n    )\r\n}"],"mappings":";;;;;AACA,OAAO,SAASA,QAAT,CAAkBC,IAAlB,EAAwBC,QAAxB,EAAkCC,QAAlC,EAA2C;EAC9C,MAAMC,OAAO,GAAG,EACZ,GAAGC,YADS;IAEZC,OAAO,EAAEH,QAAQ,CAAC,CAAD;EAFL,CAAhB;EAKIF,IAAI,CAACM,GAAL,CAAUC,IAAD,IAAU;IACnBN,QAAQ,CAACO,kBAAT,CAA4BL,OAA5B,EAAqCM,IAArC,CAA2CC,GAAD,IAAS;MAC3CC,YAAY,CAACD,GAAG,CAACE,WAAL,EAAkBL,IAAI,CAACM,iBAAvB,EAA0CN,IAAI,CAACO,cAA/C,CAAZ,CAA2EL,IAA3E,CAAiFC,GAAD,IAAS;QACrF,IAAGA,GAAG,CAACK,KAAJ,KAAcC,SAAd,IAA2BN,GAAG,KAAK,KAAtC,EAA4C,CAC3C,CADD,MACM;UACFO,OAAO,CAACC,GAAR,CAAYX,IAAI,CAACY,WAAjB;QACH;MACJ,CALD;IAMH,CAPL;EAQC,CATD;EAWA,oBACI;IAAA,uBACA;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EADA,iBADJ;AAMH;KAvBWpB,Q;AAyBhB,OAAO,SAASqB,QAAT,CAAkBC,KAAlB,EAAwB;EAAA;;EAC3B;EACA,IAAIC,QAAQ,GAAG,EAAf;EACA,MAAM;IAAErB,QAAF;IAAYC;EAAZ,IAAyBqB,OAAO,EAAtC,CAH2B,CAI3B;;EACA,MAAMpB,OAAO,GAAG,EACZ,GAAGC,YADS;IAEZC,OAAO,EAAEH,QAAQ,CAAC,CAAD;EAFL,CAAhB,CAL2B,CAS3B;;EACAD,QAAQ,CAACO,kBAAT,CAA4BL,OAA5B,EAAqCM,IAArC,CAA2CC,GAAD,IAAS;IAAE;IACjDc,WAAW,CAACd,GAAG,CAACE,WAAL,CAAX,CAA6BH,IAA7B,CAAmCC,GAAD,IAAS;MAAE;MACzCX,QAAQ,CAACW,GAAG,CAACK,KAAL,EAAYd,QAAZ,EAAsBC,QAAtB,CAAR,CAAwCO,IAAxC,CAA8CC,GAAD,IAAS;QAClDY,QAAQ,CAACG,IAAT,CAAcf,GAAd;MACH,CAFD,EAGCgB,KAHD,CAGQC,CAAD,IAAOV,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAHd;IAIH,CALD;EAMH,CAPD,EAOGQ,KAPH,CAOUC,CAAD,IAAM;IACf;IACA1B,QAAQ,CAAC2B,iBAAT,CAA2BzB,OAA3B,EAAoCM,IAApC,CAA0CC,GAAD,IAAS;MAC9Cc,WAAW,CAACd,GAAG,CAACE,WAAL,CAAX,CAA6BH,IAA7B,CAAmCC,GAAD,IAAS;QACvCX,QAAQ,CAACW,GAAG,CAACK,KAAL,EAAYd,QAAZ,EAAsBC,QAAtB,CAAR,CAAwCO,IAAxC,CAA8CC,GAAD,IAAS;UAClDY,QAAQ,CAACG,IAAT,CAAcf,GAAd;QACH,CAFD;MAGH,CAJD;IAKH,CAND;EAOC,CAhBD;EAkBA,oBACI;IAAA,wBACA;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADA,eAEA;MAAA;MAAA;MAAA;IAAA,QAFA;EAAA,gBADJ;AAMH;;GAlCeU,Q;;MAAAA,Q"},"metadata":{},"sourceType":"module"}